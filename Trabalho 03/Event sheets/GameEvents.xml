<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>GameEvents</name>
    <events>
        <include>Common</include>
        <include>Bonuses</include>
        <include>Enemies</include>
        <include>Functions</include>
        <comment>Constant Values</comment>
        <variable comment="Constant representing the boolean value TRUE." constant="1" name="TRUE" sid="1027152796079975" static="0" type="number">1</variable>
        <variable comment="Constant representing the boolean value FALSE." constant="1" name="FALSE" sid="7452216355564565" static="0" type="number">0</variable>
        <comment>Player Variables</comment>
        <variable comment="Number of Bombs the Player has." constant="0" name="Bombs" sid="4912718610940361" static="0" type="number">3</variable>
        <variable comment="Number of Lives the Player has." constant="0" name="Lives" sid="1566409325247134" static="0" type="number">3</variable>
        <comment>Scoring Variables</comment>
        <variable comment="Current score." constant="0" name="Score" sid="7776303994093549" static="0" type="number">0</variable>
        <variable comment="Current High Score." constant="0" name="HighScore" sid="9165856195509204" static="0" type="number">0</variable>
        <variable comment="Time the player is being pacifist." constant="0" name="PacifistTime" sid="4542916606348985" static="0" type="number">0</variable>
        <variable comment="Highest pacifist time the player had." constant="0" name="BestPacifist" sid="2419245576472392" static="0" type="number">0</variable>
        <variable comment="Time the player survived." constant="0" name="SurvivalTime" sid="5429367854862133" static="0" type="number">0</variable>
        <variable comment="Best survival time the player got." constant="0" name="BestSurvival" sid="5492233290421688" static="0" type="number">0</variable>
        <variable comment="Current score multiplier." constant="0" name="Multiplier" sid="6964287633569893" static="0" type="number">1</variable>
        <comment>Level Variables</comment>
        <variable comment="Time interval between spawns." constant="0" name="SpawnTimer" sid="96232069473158" static="0" type="number">5</variable>
        <comment>Flags</comment>
        <variable comment="Current game mode." constant="0" name="CurrentMode" sid="3930616549452877" static="0" type="number">0</variable>
        <variable comment="Flag that checks if player is alive." constant="0" name="IsPlayerAlive" sid="4024793600231068" static="0" type="number">0</variable>
        <variable comment="Has the player shot on the last second?" constant="0" name="IsPlayerPacifist" sid="1934420169127409" static="0" type="number">1</variable>
        <variable comment="Is the player using the bomb right now?" constant="0" name="IsUsingBomb" sid="9676621812991778" static="0" type="number">0</variable>
        <comment>Bonus and Counters</comment>
        <variable comment="Number of shots the player fires." constant="0" name="ShotNumber" sid="3608607095451479" static="0" type="number">2</variable>
        <variable comment="Kills the player made in this current life." constant="0" name="Kills" sid="2961973352605008" static="0" type="number">0</variable>
        <variable comment="Score where the player will get the next extra life." constant="0" name="ExtraLifeScore" sid="5964493991935636" static="0" type="number">0</variable>
        <variable comment="Score where the player will get the next extra bomb." constant="0" name="ExtraBombScore" sid="8785519423376288" static="0" type="number">0</variable>
        <variable comment="Score where the player will get the next shooting change." constant="0" name="ShootChangeScore" sid="9070260645011268" static="0" type="number">0</variable>
        <comment>Game modes</comment>
        <variable comment="Title Screen." constant="1" name="TITLE" sid="830317314791887" static="0" type="number">0</variable>
        <variable comment="Classic Mode." constant="1" name="CLASSIC" sid="1907809952035407" static="0" type="number">1</variable>
        <variable comment="Pacifist Mode." constant="1" name="PACIFIST" sid="2999703985081152" static="0" type="number">2</variable>
        <variable comment="Survival Mode." constant="1" name="SURVIVAL" sid="4673225052760258" static="0" type="number">3</variable>
        <comment>Debugging helper and modes variables</comment>
        <variable comment="Is enemy spawning enabled?" constant="0" name="SpawningEnabled" sid="1069659072449692" static="0" type="number">1</variable>
        <event-group description="System events." sid="229269666203367" title="System">
            <sub-events>
                <comment>If the player is not on any defined game mode, goes to title screen.</comment>
                <event-block sid="847585074331592">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="5143683174946397" type="System" />
                        <condition id="-14" name="Compare variable" sid="5240763152541947" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">TITLE</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="7643512323678071" type="System">
                            <param id="0" name="Layout">Title</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Initializes the game - Classic Mode.</comment>
                <event-block sid="9214413453847166">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="9906760274191549" type="System" />
                        <condition id="-14" name="Compare variable" sid="5196132323861438" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">CLASSIC</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="9813792116356491" type="System">
                            <param id="0" name="Layer">&quot;PacificstHUD&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="6848018205376162" type="System">
                            <param id="0" name="Layer">&quot;ClassicHUD&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="6881040871609575" type="System">
                            <param id="0" name="Layer">&quot;SurvivalHUD&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Initializes the game - Pacifist Mode.</comment>
                <event-block sid="6318218152890173">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="8200565614702931" type="System" />
                        <condition id="-14" name="Compare variable" sid="6015453306483822" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">PACIFIST</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="509124066788469" type="System">
                            <param id="0" name="Layer">&quot;ClassicHUD&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="8487347117566802" type="System">
                            <param id="0" name="Layer">&quot;PacificstHUD&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="9168840585244532" type="System">
                            <param id="0" name="Layer">&quot;SurvivalHUD&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="7710735439376625" type="System">
                            <param id="0" name="Variable">Lives</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="6416295110583172" type="System">
                            <param id="0" name="Variable">Bombs</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Initializes the game - Survival Mode.</comment>
                <event-block sid="2598731994869412">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="7937912326803656" type="System" />
                        <condition id="-14" name="Compare variable" sid="9215149103970835" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">SURVIVAL</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="8547188602919585" type="System">
                            <param id="0" name="Layer">&quot;ClassicHUD&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="4912576645779463" type="System">
                            <param id="0" name="Layer">&quot;PacificstHUD&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="3684727747586802" type="System">
                            <param id="0" name="Layer">&quot;SurvivalHUD&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="9133976949062987" type="System">
                            <param id="0" name="Variable">Lives</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>At the end of the layout, set mode to TITLE.</comment>
                <event-block sid="1519735710108081">
                    <conditions>
                        <condition id="-3" name="On end of layout" sid="8639099663301371" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="6160226669329661" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Value">TITLE</param>
                        </action>
                    </actions>
                </event-block>
                <comment>If the player beats the High Score, save new High Score on Local Storage.</comment>
                <event-block sid="2907300660749194">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="2295580168123089" type="System">
                            <param id="0" name="Variable">Score</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">HighScore</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="3180499667121838" type="System">
                            <param id="0" name="Variable">HighScore</param>
                            <param id="1" name="Value">Score</param>
                        </action>
                        <action id="0" name="Set local value" sid="3368243722514145" type="HighScore">
                            <param id="0" name="Key">&quot;HighScore&quot;</param>
                            <param id="1" name="Value">HighScore</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="6899674098192083">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="3538470793584989" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="6301518975847685" type="Audio">
                                    <param id="0" name="Audio file">Hi_Score_achieved</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>If the player beats the Best Pacifist time, save new Best Pacifist on Local Storage.</comment>
                <event-block sid="3969965723417668">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="5856440842690312" type="System">
                            <param id="0" name="Variable">PacifistTime</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">BestPacifist</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="8816356909864546" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">PACIFIST</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="1648159464589714" type="System">
                            <param id="0" name="Variable">BestPacifist</param>
                            <param id="1" name="Value">PacifistTime</param>
                        </action>
                        <action id="0" name="Set local value" sid="5444277027942053" type="HighScore">
                            <param id="0" name="Key">&quot;BestPacifist&quot;</param>
                            <param id="1" name="Value">BestPacifist</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="3698246898901984">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="9310200148414878" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="1806177106491597" type="Audio">
                                    <param id="0" name="Audio file">Hi_Score_achieved</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>If the player beats the Best Survival time, save new Best Survival on Local Storage.</comment>
                <event-block sid="7209570000836135">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="3067786613352106" type="System">
                            <param id="0" name="Variable">SurvivalTime</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">BestSurvival</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="9214914205475858" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">SURVIVAL</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="4614185921487415" type="System">
                            <param id="0" name="Variable">BestSurvival</param>
                            <param id="1" name="Value">SurvivalTime</param>
                        </action>
                        <action id="0" name="Set local value" sid="9311145173476622" type="HighScore">
                            <param id="0" name="Key">&quot;BestSurvival&quot;</param>
                            <param id="1" name="Value">BestSurvival</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9333230963037792">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="7547719670556098" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="3170607455009137" type="Audio">
                                    <param id="0" name="Audio file">Hi_Score_achieved</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Updates Survival and Pacifist time, and resets the score if the condition for time counting is broken.</comment>
                <event-block sid="313046665224395">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="1628259601375937" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="3018529747272529" type="System">
                            <param id="0" name="Variable">PacifistTime</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Add to" sid="738710525539485" type="System">
                            <param id="0" name="Variable">SurvivalTime</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="1909000890511865">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="791386369585141" type="System">
                                    <param id="0" name="Variable">IsPlayerAlive</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">FALSE</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="3946202419601788" type="System">
                                    <param id="0" name="Variable">SurvivalTime</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="2403389547285891" type="System">
                                    <param id="0" name="Variable">PacifistTime</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6277356224807031">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="828891639039136" type="System">
                                    <param id="0" name="Variable">IsPlayerPacifist</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">FALSE</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="1488714457025141" type="System">
                                    <param id="0" name="Variable">PacifistTime</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="9789985609589692" type="System">
                                    <param id="0" name="Variable">IsPlayerPacifist</param>
                                    <param id="1" name="Value">TRUE</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Control events and alternative control methods." sid="3330454796225328" title="Controls">
            <sub-events>
                <comment>Shoots if the shooting conditions are met:&#x0D;&#x0A;* Player must not be on Pacifist Mode&#x0D;&#x0A;* Player can only shoot every 0.1 seconds&#x0D;&#x0A;* Player must do one shooting action.&#x0D;&#x0A;&#x0D;&#x0A;The shooting actions are:&#x0D;&#x0A;* Using the Gamepad Right Stick in one direction;&#x0D;&#x0A;* Pressing the Left mouse button.&#x0D;&#x0A;&#x0D;&#x0A;The player angle is decided by:&#x0D;&#x0A;* Right analog stick position, if the player is using the gamepad.&#x0D;&#x0A;* Mouse position, if the mouse button is pressed.</comment>
                <event-block sid="3648900360033787">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="1613179322179721" type="System">
                            <param id="0" name="Interval (seconds)">0.1</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="8640713764070745" type="Player">
                            <param id="0" name="Instance variable">IsPacifist</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="314896179662306">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="1431476806371417" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Axis">2</param>
                                    <param id="2" name="Comparison">1</param>
                                    <param id="3" name="Value">0</param>
                                </condition>
                                <condition id="5" name="Compare axis" sid="1302412051843598" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Axis">3</param>
                                    <param id="2" name="Comparison">1</param>
                                    <param id="3" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="7310875148327481" type="Aim">
                                    <param id="0" name="Angle">angle(0,0,Gamepad.Axis(0,2),Gamepad.Axis(0,3))</param>
                                </action>
                                <action id="0" name="Call function" sid="2063939482112092" type="Function">
                                    <param id="0" name="Name">&quot;Shoot&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8817838906310821">
                            <conditions>
                                <condition id="2" name="Mouse button is down" sid="4163373687289318" type="Mouse">
                                    <param id="0" name="Mouse button">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-22" name="Set angle toward position" sid="2429578859204713" type="Aim">
                                    <param id="0" name="X">Mouse.X</param>
                                    <param id="1" name="Y">Mouse.Y</param>
                                </action>
                                <action id="0" name="Call function" sid="7058982876277009" type="Function">
                                    <param id="0" name="Name">&quot;Shoot&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Adds alternative inputs for the Go Left Player command.</comment>
                <event-block any="1" sid="4153319097398034">
                    <conditions>
                        <condition id="2" name="Key is down" sid="109727347838234" type="Keyboard">
                            <param id="0" name="Key">65 (A)</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="7909347587000405" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">14</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="5277577865855005" type="Player">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Adds alternative inputs for the Go Up Player command.</comment>
                <event-block any="1" sid="6913005958806872">
                    <conditions>
                        <condition id="2" name="Key is down" sid="5070079005170258" type="Keyboard">
                            <param id="0" name="Key">87 (W)</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="7127532229012265" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">12</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="7140119692077333" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Adds alternative inputs for the Go Right Player command.</comment>
                <event-block any="1" sid="7919422407731026">
                    <conditions>
                        <condition id="2" name="Key is down" sid="115364120627172" type="Keyboard">
                            <param id="0" name="Key">68 (D)</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="9303632595013867" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">15</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="6905513545534846" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Adds alternative inputs for the Go Down Player command.</comment>
                <event-block any="1" sid="6819042436499002">
                    <conditions>
                        <condition id="2" name="Key is down" sid="7070558477849608" type="Keyboard">
                            <param id="0" name="Key">83 (S)</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="572850491177475" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">13</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="6263216966952288" type="Player">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Translates Gamepad left stick axis input into ship movement.</comment>
                <event-block any="1" sid="8021165857804725">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="6791167457399515" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">1</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                        <condition id="5" name="Compare axis" sid="1314980154783136" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">1</param>
                            <param id="2" name="Comparison">1</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="3" name="Set speed" sid="1316065229531252" type="Player">
                            <param id="0" name="Speed">Player.8Direction.MaxSpeed</param>
                        </action>
                        <action behavior="8Direction" id="9" name="Set vector X" sid="3982131753296821" type="Player">
                            <param id="0" name="Vector X">Player.8Direction.Speed * Gamepad.Axis(0,0) * dt</param>
                        </action>
                        <action behavior="8Direction" id="10" name="Set vector Y" sid="159416901672005" type="Player">
                            <param id="0" name="Vector Y">Player.8Direction.Speed * Gamepad.Axis(0,1) * dt</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Adds the &quot;Use Bomb&quot; command to a lot of inputs, so the player has choice on how he prefers to use it.</comment>
                <event-block any="1" sid="317558731720965">
                    <conditions>
                        <condition id="2" name="Key is down" sid="7071262572316403" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="3592949284410089" type="Keyboard">
                            <param id="0" name="Key">13 (Return)</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="9292219597419051" type="Keyboard">
                            <param id="0" name="Key">17 (Ctrl)</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="4400315433637663" type="Keyboard">
                            <param id="0" name="Key">16 (Shift)</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="1186606034629823" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">4</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="6809922313255843" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">7</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="3622267606853256" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">1</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="7470758854227678" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">6</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="5988176667541376" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">7</param>
                        </condition>
                        <condition id="2" name="Mouse button is down" sid="1547100229231588" type="Mouse">
                            <param id="0" name="Mouse button">2</param>
                        </condition>
                        <condition id="2" name="Mouse button is down" sid="3422696223308673" type="Mouse">
                            <param id="0" name="Mouse button">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="6898403769086419" type="Function">
                            <param id="0" name="Name">&quot;UseBomb&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Player and player effects/helpers (shot, flame jet) events." sid="7784473911862342" title="Player">
            <sub-events>
                <comment>Brings all the player components (Player ship, aim triangle and particle jet) together, every tick.</comment>
                <event-block sid="3792432436643906">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="1295872421626848" type="System" />
                    </conditions>
                    <actions>
                        <action id="-4" name="Set position to another object" sid="16469151885197" type="PlayerJet">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="Image point (optional)">&quot;Jet&quot;</param>
                        </action>
                        <action id="-8" name="Set angle" sid="3001133632973321" type="PlayerJet">
                            <param id="0" name="Angle">Player.Angle</param>
                        </action>
                        <action id="18" name="Set timeout" sid="4269293498403787" type="PlayerJet">
                            <param id="0" name="Timeout">Player.8Direction.Speed / 100</param>
                        </action>
                        <action id="-4" name="Set position to another object" sid="1994850344601244" type="Aim">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="Image point (optional)">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Sets the Player Alive flag to TRUE when the player is created.</comment>
                <event-block sid="7060783315290333">
                    <conditions>
                        <condition id="-18" name="On created" sid="4813002487581019" type="Player" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="2706516021169155" type="System">
                            <param id="0" name="Variable">IsPlayerAlive</param>
                            <param id="1" name="Value">TRUE</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Sets the Pacifist flag if the player is pacifist.</comment>
                <event-block sid="6386494445794264">
                    <conditions>
                        <condition id="-18" name="On created" sid="5710968370572303" type="Player" />
                        <condition id="-14" name="Compare variable" sid="1700736107527263" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">PACIFIST</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="7150748881303341" type="Player">
                            <param id="0" name="Instance variable">IsPacifist</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Sets the Player Alive flag to FALSE when the player dies.</comment>
                <event-block sid="3313779258919682">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="5787330347098935" type="Player" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="3746752011041673" type="System">
                            <param id="0" name="Variable">IsPlayerAlive</param>
                            <param id="1" name="Value">FALSE</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Hide the aim triangle if player is dead.</comment>
                <event-block sid="6816807400507154">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="4251955940125492" type="System">
                            <param id="0" name="Variable">IsPlayerAlive</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">FALSE</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="1829208989621669" type="Aim">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Show the aim triangle if the player is alive.</comment>
                <event-block sid="4042753356040705">
                    <conditions>
                        <condition id="-14" inverted="1" name="Compare variable" sid="8905611548976298" type="System">
                            <param id="0" name="Variable">IsPlayerAlive</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">FALSE</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="5422043577748084" type="Aim">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Enemy spawning, player death and other similar events." sid="5994465010774309" title="Level">
            <sub-events>
                <comment>Spawn Enemies each spawn cycle.</comment>
                <event-block sid="7871617777748265">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="7116042062554417" type="System">
                            <param id="0" name="Interval (seconds)">SpawnTimer</param>
                        </condition>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="764143415205943" type="SpawnPoint">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="3703824857933553" type="System">
                            <param id="0" name="Variable">Lives</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="9870165491577499" type="System">
                            <param id="0" name="Variable">IsPlayerAlive</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">TRUE</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="4684937956636486" type="System">
                            <param id="0" name="Variable">SpawningEnabled</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">FALSE</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="3733880722695129" type="SpawnPoint">
                            <param id="0" name="Object">Enemies</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">random(13)</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Respawns player after death, if it still has lives.</comment>
                <event-block collapsed="1" sid="3058728122704352">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="9273997221098837" type="Player" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="7352903656447587" type="Enemies" />
                        <action id="-16" name="Wait" sid="6011890765304827" type="System">
                            <param id="0" name="Seconds">3.0</param>
                        </action>
                        <action id="-11" name="Subtract from" sid="3620388899085157" type="System">
                            <param id="0" name="Variable">Lives</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="5377401285353125">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="5543190273417278" type="System">
                                    <param id="0" name="Variable">Lives</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="3430405357128397" type="PlayerSpawnPoint">
                                    <param id="0" name="Object">Player</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8917536494176876">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="6898569335943563" type="System">
                                    <param id="0" name="Variable">Lives</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-21" name="Reset global variables" sid="677070618506399" type="System" />
                                <action id="-26" name="Restart layout" sid="7420968790236553" type="System" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Destroy shot if it goes outside screen.</comment>
                <event-block sid="3249762159692108">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="4921368112912638" type="Shot" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="8962626607437361" type="Shot" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Level and Enemy effects." sid="6354348894684341" title="Game Effects">
            <sub-events>
                <comment>Changes the grid color, rotating between all colors, at the interval of 0.1 Hue per tick.</comment>
                <event-block sid="8559464293558853">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="293857517644524" type="System" />
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="7572889390199887" type="Grid">
                            <param id="0" name="Instance variable">CurrentHue</param>
                            <param id="1" name="Value">0.1</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="8969259203808519" type="Grid">
                            <param id="0" name="Effect">&quot;AdjustHSL&quot;</param>
                            <param id="1" name="Parameter index">0</param>
                            <param id="2" name="Value">(Grid.CurrentHue % 200) - 100</param>
                        </action>
                    </actions>
                </event-block>
                <comment>When an explosive is destroyed, shows explosion.</comment>
                <event-block sid="9201752350886456">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="3635184989725699" type="Explosive" />
                        <condition id="-4" inverted="1" name="Is outside layout" sid="758688635777821" type="Explosive" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="4370693981716775" type="Explosive">
                            <param id="0" name="Object">EnemyExplosion</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="7222420814318746" type="EnemyExplosion">
                            <param id="0" name="Effect">&quot;AdjustHSL&quot;</param>
                            <param id="1" name="Parameter index">0</param>
                            <param id="2" name="Value">Explosive.ExplosionH</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="506274948611444" type="EnemyExplosion">
                            <param id="0" name="Effect">&quot;AdjustHSL&quot;</param>
                            <param id="1" name="Parameter index">1</param>
                            <param id="2" name="Value">Explosive.ExplosionS</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="6083662946076538" type="EnemyExplosion">
                            <param id="0" name="Effect">&quot;AdjustHSL&quot;</param>
                            <param id="1" name="Parameter index">2</param>
                            <param id="2" name="Value">Explosive.ExplosionI</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Deactivates distortion effects on start.</comment>
                <event-block sid="4837568900808524">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="470158817768962" type="System" />
                    </conditions>
                    <actions>
                        <action id="-27" name="Set effect enabled" sid="8067658733439288" type="Grid">
                            <param id="0" name="Mode">0</param>
                            <param id="1" name="Effect">&quot;Water&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Music and Sound Effects." sid="7276145793056033" title="Sound">
            <sub-events>
                <comment>Plays the level music when the layout is loaded.</comment>
                <event-block sid="3102609030466335">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="9728584041528688" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="8011499044699643" type="Audio">
                            <param id="0" name="Audio file">Theme</param>
                            <param id="2" name="Loop">1</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;BGM&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Heads up display events." sid="2110095843469122" title="HUD">
            <sub-events>
                <comment>Update the lives, bombs, score and high score every frame - Classic Mode.</comment>
                <event-block sid="8890957871182892">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="4847067047121477" type="System" />
                        <condition id="-14" name="Compare variable" sid="1071410596223037" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">CLASSIC</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="9850297362375251" type="HUDScore">
                            <param id="0" name="Text">Score</param>
                        </action>
                        <action id="0" name="Set text" sid="2685271033859384" type="HUDHighScore">
                            <param id="0" name="Text">HighScore</param>
                        </action>
                        <action id="0" name="Set text" sid="7785280396474114" type="HUDBombCount">
                            <param id="0" name="Text">Bombs</param>
                        </action>
                        <action id="0" name="Set text" sid="6839146945084021" type="HUDLivesCount">
                            <param id="0" name="Text">Lives</param>
                        </action>
                        <action id="0" name="Set text" sid="4089427949437408" type="HUDMultiplier">
                            <param id="0" name="Text">Multiplier&amp;&quot;x&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Update the lives, bombs, score and high score every frame - Pacifist Mode.</comment>
                <event-block sid="3610662623189907">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="5968526407983325" type="System" />
                        <condition id="-14" name="Compare variable" sid="6859462522360628" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">PACIFIST</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="8935638035617113" type="HUDTime">
                            <param id="0" name="Text">PacifistTime</param>
                        </action>
                        <action id="0" name="Set text" sid="5823440701644891" type="HUDBestTime">
                            <param id="0" name="Text">BestPacifist</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Update the lives, bombs, score and high score every frame - Survival Mode.</comment>
                <event-block sid="9586286507710057">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="3894143359574613" type="System" />
                        <condition id="-14" name="Compare variable" sid="9493019581250018" type="System">
                            <param id="0" name="Variable">CurrentMode</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">SURVIVAL</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="2294636941954363" type="HUDTime">
                            <param id="0" name="Text">SurvivalTime</param>
                        </action>
                        <action id="0" name="Set text" sid="2094940943074887" type="HUDBestTime">
                            <param id="0" name="Text">BestSurvival</param>
                        </action>
                        <action id="0" name="Set text" sid="498240261398122" type="HUDScore">
                            <param id="0" name="Text">Score</param>
                        </action>
                        <action id="0" name="Set text" sid="2031484299589201" type="HUDHighScore">
                            <param id="0" name="Text">HighScore</param>
                        </action>
                        <action id="0" name="Set text" sid="1801564539479133" type="HUDBombCount">
                            <param id="0" name="Text">Bombs</param>
                        </action>
                        <action id="0" name="Set text" sid="8386189409461043" type="HUDMultiplier">
                            <param id="0" name="Text">Multiplier&amp;&quot;x&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
